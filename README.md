This is the frontend for SMA